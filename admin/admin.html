<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="admin.css" />

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
      crossorigin="anonymous"
    ></script>

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Le Fil Rouge - Back-Office</title>
  </head>
  <body class="bg-light">
    <div class="container-fluid text-center title">
      <h1>Le Fil Rouge <span>Back-Office</span></h1>
    </div>

    <ul class="nav nav-tabs mb-5 d-flex justify-content-center">
      <li class="nav-item">
        <a
          class="nav-link active"
          id="pizzas-tab"
          data-bs-toggle="tab"
          href="#pizzas"
          >Pizzas</a
        >
      </li>
      <li class="nav-item">
        <a class="nav-link" id="plats-tab" data-bs-toggle="tab" href="#plats"
          >Plats</a
        >
      </li>
      <li class="nav-item">
        <a
          class="nav-link"
          id="boissons-tab"
          data-bs-toggle="tab"
          href="#boissons"
          >Boissons</a
        >
      </li>
    </ul>

    <div id="pizzas" class="tab-content active">
      <!-- ———————————————————— FORM D'AJOUT DES PIZZAS ———————————————————— -->
      <div class="container bg-white rounded p-5 mb-3 border">
        <h2 class="mb-3">Ajouter une pizza</h2>
        <form
          id="addPizzaForm"
          enctype="multipart/form-data"
          class="row row-cols-lg-auto g-3 align-middle d-flex"
        >
          <div class="col-lg-1">
            <label class="visually-hidden" for="name">Nom de la pizza</label>
            <input
              type="text"
              class="form-control"
              name="name"
              id="name"
              placeholder="Nom"
            />
          </div>
          <div class="col-lg-3 flex-grow-1">
            <label class="visually-hidden" for="ingredients">Ingrédients</label>
            <input
              type="text"
              class="form-control"
              name="ingredients"
              id="ingredients"
              placeholder="Ingrédients"
            />
          </div>
          <div class="col-lg-1">
            <label class="visually-hidden" for="price">Prix</label>
            <input
              type="number"
              class="form-control"
              name="price"
              id="price"
              placeholder="Prix"
            />
          </div>
          <div class="col-lg-3">
            <label class="visually-hidden" for="image">Image</label>
            <input type="file" class="form-control" name="image" id="image"/>
          </div>
          <div class="col-lg-2">
            <button type="submit" class="btn btn-success w-100 m-0">
              Ajouter
            </button>
          </div>
        </form>
      </div>

            <!-- ———————————————————— LISTE DES PIZZAS AJOUTEES ———————————————————— -->
      <div class="container p-5 bg-white rounded border mb-5">
        <h2 class="mb-3">Carte des pizzas</h2>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th class="text-start">Nom</th>
                <th class="text-start">Ingrédients</th>
                <th class="text-center">Prix</th>
                <th class="text-center">Image</th>
                <th class="text-start col-lg-2">Actions</th>
              </tr>
            </thead>
            <tbody id="pizzaTableBody">
              <!-- Ligne à cloner -->
              <template id="pizzaRowTemplate">
                <tr>
                  <td class="pizza-name align-middle"></td>
                  <td class="ingredients align-middle"></td>
                  <td class="price align-middle text-center"></td>
                  <td class="img align-middle text-center">
                    <img
                      class="pizza-thumbnail"
                      src=""
                      alt=""
                      width="100"
                      height="100"
                    />
                  </td>
                  <td class="align-middle">
                    <button class="btn btn-outline-primary btn-edit w-100">
                      Modifier
                    </button>
                    <button class="btn btn-outline-danger btn-delete w-100">
                      Retirer
                    </button>
                  </td>
                </tr>
              </template>
            </tbody>
          </table>
        </div>
      </div>


    <div id="plats" class="tab-content">
      <!-- ———————————————————— FORM D'AJOUT DES PLATS ———————————————————— -->
      <div class="container bg-white rounded p-5 mt-4 mb-3 border">
        <h2>Ajouter un plat</h2>
        <!-- Ajoutez ici votre formulaire d'ajout pour les plats -->
      </div>

      <!-- ———————————————————— LISTE DES PLATS AJOUTES ———————————————————— -->
      <div class="container p-5 bg-white rounded border mb-5">
        <h2>Carte des plats</h2>
        <!-- Ajoutez ici votre liste des plats ajoutés -->
      </div>
    </div>

    <div id="boissons" class="tab-content">
      <!-- ———————————————————— FORM D'AJOUT DES BOISSONS ———————————————————— -->
      <div class="container bg-white rounded p-5 mt-4 mb-3 border">
        <h2>Ajouter une boisson</h2>
        <!-- Ajoutez ici votre formulaire d'ajout pour les boissons -->
      </div>

      <!-- ———————————————————— LISTE DES BOISSONS AJOUTEES ———————————————————— -->
      <div class="container p-5 bg-white rounded border mb-5">
        <h2>Carte des boissons</h2>
        <!-- Ajoutez ici votre liste des boissons ajoutées -->
      </div>
    </div>

    <!-- ———————————————————— LISTE DES COMMANDES PASSÉES ———————————————————— -->

    <div class="container p-5 bg-white rounded border mb-5">
      <h2>Commandes passées</h2>
      <table id="orderTable" class="table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Type de pizza</th>
            <th>Quantité</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Modal pour la modification de la pizza -->
    <div
      class="modal fade"
      id="editPizzaModal"
      tabindex="-1"
      aria-labelledby="editPizzaModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editPizzaModalLabel">
              Modifier une pizza
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="editPizzaForm" enctype="multipart/form-data">
              <input type="hidden" id="editPizzaId" name="id" />
              <div class="mb-3">
                <label for="editPizzaName" class="form-label"
                  >Nom de la pizza</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="editPizzaName"
                  name="name"
                />
              </div>
              <div class="mb-3">
                <label for="editPizzaIngredients" class="form-label"
                  >Ingrédients</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="editPizzaIngredients"
                  name="ingredients"
                />
              </div>
              <div class="mb-3">
                <label for="editPizzaPrice" class="form-label">Prix</label>
                <input
                  type="number"
                  class="form-control"
                  id="editPizzaPrice"
                  name="price"
                />
              </div>
              <div class="mb-3">
                <label for="editPizzaImage" class="form-label">Image</label>
                <input
                  type="file"
                  class="form-control"
                  id="editPizzaImage"
                  name="image"
                />
              </div>
              <button type="submit" class="btn btn-primary">Modifier</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- ———————————————————— TOASTS ———————————————————— -->

    <div class="position-fixed bottom-0 end-0 p-3">
      <div
        id="success-toast"
        class="toast bg-success text-white"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div class="toast-header">
          <strong class="me-auto">Here we go !</strong>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body">Pizza ajoutée avec succès.</div>
      </div>

      <div
        id="error-toast"
        class="toast bg-danger text-white"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div class="toast-header">
          <strong class="me-auto">Oups !</strong>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body"></div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="admin.js"></script>
  </body>
</html>
